@using Microsoft.AspNetCore.Identity
@using DemoDeIdentity.Identity

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

@inject SignInManager<MyUser> SignInManager
@inject UserManager<MyUser> UserManager

<div class="dropdown">
    @if (SignInManager.IsSignedIn(User))
    {
        <button class="btn btn-custom dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Hola, @UserManager.GetUserName(User)!
        </button>

        <ul class="dropdown-menu" aria-labelledby="userDropdown">
            <li>
                <form asp-area="Identity" asp-page="/Account/Logout" method="post" id="logoutForm">
                    <button type="submit" class="dropdown-item text-danger">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </form>
            </li>
        </ul>
    }
    else
    {
        <button class="btn btn-outline-primary dropdown-toggle" type="button" id="loginDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Login / Register
        </button>
        <ul class="dropdown-menu" aria-labelledby="loginDropdown">
            <li>
                <a class="dropdown-item text-primary" asp-area="Identity" asp-page="/Account/Login">
                    <i class="fas fa-sign-in-alt"></i> Login
                </a>
            </li>
            <li>
                <a class="dropdown-item text-primary" asp-area="Identity" asp-page="/Account/Register">
                    <i class="fas fa-user-plus"></i> Register
                </a>
            </li>
        </ul>
    }
</div>

<style>
    /* Estilo para el dropdown */
    .dropdown-toggle {
        font-size: 16px;
        padding: 8px 15px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

        /* Cambiar color de fondo en hover para el botón */
        .dropdown-toggle:hover {
            background-color: #0056b3;
            color: #fff;
        }

    /* Estilo para los elementos del dropdown */
    .dropdown-item {
        font-size: 14px;
        padding: 10px 15px;
        transition: background-color 0.3s ease;
    }

        /* Hover en los elementos del dropdown */
        .dropdown-item:hover {
            background-color: #f1f1f1;
            color: #0056b3;
        }

    /* Ajustar el tamaño del menú desplegable */
    .dropdown-menu {
        min-width: 200px;
        padding: 10px 0;
    }

    /* Iconos junto a las opciones */
    .dropdown-item i {
        margin-right: 8px;
    }

    /* Estilo para el botón de Logout */
    .text-danger {
        color: #0056b3;
    }

    /* Personalización de los iconos */
    .dropdown-item i {
        font-size: 18px;
    }

    /* Personalización del botón */
    .btn-custom {
        background-color: #4a90e2; /* El color que prefieras, puedes usar un código hexadecimal o un color Bootstrap */
        color: #ffffff; /* Texto blanco */
        border: none; /* Elimina bordes por defecto */
        padding: 10px 20px; /* Ajusta el padding para hacerlo más grande */
        border-radius: 5px; /* Bordes redondeados */
        font-size: 14px; /* Tamaño de fuente adecuado */
        transition: background-color 0.3s ease; /* Transición suave para el cambio de color */
    }

        /* Efecto al pasar el ratón sobre el botón */
        .btn-custom:hover {
            background-color: #357ab7; /* Un color más oscuro al hacer hover */
        }

</style>

<!-- Incluyendo Font Awesome para los íconos -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
